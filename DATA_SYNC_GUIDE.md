# 本地环境与GitHub Pages数据同步指南

## 核心问题解答

**问：在本地添加了用户（如张三），还需要在GitHub Pages链接里再次添加张三吗？**

**答：是的，需要进行数据同步，但不是手动再次添加，而是通过数据导出/导入功能来完成。**

## 为什么需要同步数据？

证书查询系统使用**浏览器本地存储(localStorage)**来保存用户数据，这意味着：

- 在**本地环境**（http://localhost:8000）添加的用户数据，**只保存在您当前电脑的浏览器中**
- 在**GitHub Pages环境**访问时，系统使用的是**访问者浏览器的localStorage**
- 两个环境的localStorage是**完全独立**的，数据不会自动同步

## 正确的工作流程

要确保在本地添加的用户（如张三）能在GitHub Pages上正常访问，请按照以下工作流程操作：

### 步骤1：在本地环境完成用户管理

1. 在本地启动系统：`python -m http.server 8000`
2. 访问 http://localhost:8000 并以管理员身份登录
3. 添加所有需要的用户（如张三、李四等）
4. 填写并更新每个用户的证书信息
5. 确认所有用户信息正确无误

### 步骤2：导出本地数据

1. 在本地管理员界面，点击**导出数据**按钮
2. 系统会下载一个包含所有用户数据的JSON文件
3. 保存这个文件到安全的位置

### 步骤3：导入数据到GitHub Pages

1. 访问您部署在GitHub Pages上的证书查询系统
2. 以管理员身份登录
3. 点击**导入数据**按钮
4. 选择刚才在本地导出的JSON文件
5. 系统会提示"用户数据已成功导入！"

### 步骤4：验证用户访问

1. 在GitHub Pages环境中，为每个用户生成专属链接
2. 测试链接是否能正常访问并显示正确的证书信息
3. 将这些链接分发给对应的用户

## 定期同步建议

为了保持数据一致性，建议您：

1. **集中管理**：选择一个主要环境（建议本地环境）进行所有用户管理操作
2. **定期同步**：每次更新用户数据后，导出并导入到其他环境
3. **备份数据**：保存导出的JSON文件作为数据备份

## 避免常见错误

请避免以下错误操作：

- ❌ 不要在本地和GitHub Pages环境中分别手动添加用户，这会导致数据不一致
- ❌ 不要忘记在修改用户数据后进行导出/导入操作
- ❌ 不要丢失导出的JSON文件，这可能导致数据丢失

通过遵循以上步骤，您可以确保在本地添加的用户（如张三）能够在GitHub Pages上正常访问，而不需要在两个环境中重复添加用户。